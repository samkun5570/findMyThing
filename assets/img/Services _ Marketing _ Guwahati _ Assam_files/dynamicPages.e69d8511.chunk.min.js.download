(window.webpackJsonp__wix_thunderbolt_app=window.webpackJsonp__wix_thunderbolt_app||[]).push([[32],{811:function(e,t,a){"use strict";a.r(t),a.d(t,"site",(function(){return S}));var n,r=a(0),i=a(7),o=a(6),c=a(23),u=a(60),s=a(270),d=a(378),p=a(268),l=a(377),f=a(27),b=a(329),g=a(307),h=a(21);!function(e){e.PAGES="pages",e.SITEMAP="sitemap"}(n||(n={}));var v=function(e){return/(^https?)|(^data)|(^blob)|(^\/\/)/.test(e)},_=function(e){return e.replace("./","").split("/")},j=function(e,t,a,n,r){var i=e.optionsData.bodyData,o=i.routerPrefix,c=i.config,u=i.pageRoles,s=function(e){return"/"+_(e).slice(1).join("/")}(t),d=""+n+o+s+a;return JSON.stringify({routerPrefix:o,routerSuffix:s,fullUrl:d,config:c,pageRoles:u,requestInfo:{formFactor:r}})},O=function(e,t,a,n,i,o,c){var u=e.urlData,s=u.basePath,d=u.queryParams,p=u.appDefinitionId;return{url:function(e,t,a){var n=new URL(e);return n.searchParams.append(t,a),n.toString()}(s+"/"+c+"?"+d,"instance",a.getAppInstanceByAppDefId(p)),options:Object(r.a)(Object(r.a)({method:"POST",body:j(e,n,i,o,t),headers:e.optionsData.headers},e.optionsData.credentials?{credentials:e.optionsData.credentials}:{}),e.optionsData.mode?{mode:e.optionsData.mode}:{})}},m="__403__dp",D="__404__dp",I="__500__dp",U="__uknown_error__dp",w=function(e,t){return/^\/(.*)/.test(e)?"."+e:"./"+t+"/"+e},P=Object(i.h)([Object(i.f)(c.f,b.a),u.b,f.a,s.a,d.a,p.a,o.g,h.d,l.a,u.f],(function(e,t,a,i,o,c,u,s,d,p){var l=e.prefixToRouterFetchData,f=e.routerPagesSeoToIdMap,h=e.externalBaseUrl,j=e.viewMode,P=function(){p.interactionStarted("initial-dynamic-page-navigation"),p.interactionEnded("initial-dynamic-page-navigation")},S=function(e,t,a){var n=function(e,t,a,n){if(v(e))return e;var r=w(e,a),i=new URL(r,t+"/");return i.search=n,i.toString()}(e,h,t,a.search);i.setHead('<meta http-equiv="refresh" content="0;url='+n+'" />')};return{getSitemapFetchParams:function(e){var t=l[e];return t?O(t,j,a,u.getRelativeEncodedUrl(),u.getParsedUrl().search,h,n.SITEMAP):null},handle:function(e){return Object(r.b)(this,void 0,void 0,(function(){var i,u,p,R,y,x,E=this;return Object(r.d)(this,(function(A){switch(A.label){case 0:return!e.pageId&&e.relativeUrl&&e.parsedUrl&&e.relativeEncodedUrl?(k=e.relativeUrl,i=_(k)[0],(u=l[i])?[4,(T=c.getCurrentRouteInfo(),!d["specs.thunderbolt.dynamicPagesWarmupData"]||T?null:s.getWarmupData(b.a,{timeout:0}))]:f[i]?[2,Object(r.a)(Object(r.a)({},e),{pageId:D})]:[2,e]):[3,2];case 1:return(p=A.sent())?(P(),[2,Object(r.a)(Object(r.a)({},e),p)]):(R=O(u,j,a,e.relativeEncodedUrl,e.parsedUrl.search,h,n.PAGES),y=R.url,x=R.options,[2,o.envFetch(y,x).then((function(a){return Object(r.b)(E,void 0,void 0,(function(){var n,o,u,s,d,p,l,f,b,h;return Object(r.d)(this,(function(_){switch(_.label){case 0:if(!a.ok)throw a;return[4,a.json()];case 1:return n=_.sent(),o=n.result,u=n.exception,s=o.page,d=o.data,p=o.head,l=o.tpaInnerRoute,f=o.publicData,(b=o.redirectUrl)?Object(g.e)(t)?(S(b,i,e.parsedUrl),[2,null]):(v(b)&&t.location.assign(b),[2,{redirectUrl:w(b,i)}]):(!c.getCurrentRouteInfo()&&t&&P(),[2,(h=function(e,t){var a=e.status,n=e.page,r=e.redirectUrl;return t?I:403===a?m:404===a?D:n||r?null:U}(o,u))?Object(r.a)(Object(r.a)({},e),{pageId:h}):Object(r.a)(Object(r.a)({},e),{pageId:s,dynamicRouteData:{pageData:d,pageHeadData:p,publicData:f,tpaInnerRoute:l}})])}}))}))})).catch((function(){return Object(g.e)(t)?null:Object(r.a)(Object(r.a)({},e),{pageId:I})}))]);case 2:return[2,e]}var T,k}))}))}}})),S=function(e){e(o.e.Dynamic,c.a).to(P)}}}]);
//# sourceMappingURL=https://static.parastorage.com/services/wix-thunderbolt/dist/dynamicPages.e69d8511.chunk.min.js.map